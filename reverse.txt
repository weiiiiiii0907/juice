#include <fcntl.h>
#include <stdio.h>
#include <stdlib.h>
#include <string.h>
#include <unistd.h>
#include <sys/stat.h>
#include <sys/types.h>

int main(int argc,char **argv){
    int fd;
    int size=0;
    fd=open(argv[1],O_RDWR);
    size=lseek(fd,0,SEEK_END);
    for(int i=0;i<size/2;i++){
        char head[2]={0};
        char end[2]={0};
        lseek(fd,i,SEEK_SET);
        read(fd,head,1);
        lseek(fd,-1*i-1,SEEK_END);
        read(fd,end,1);
        lseek(fd,i,SEEK_SET);
        write(fd,end,1);
        lseek(fd,-1*i-1,SEEK_END);
        write(fd,head,1);
    }
    close(fd);
    return 0;
}